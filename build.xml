<project name="tsafe.makejar" default="makejar" basedir=".">

	<target name ="makejar" description="Create a jar for the TSafe project">

		<delete dir="build"/>

		<mkdir dir="build"/>

		<copy todir="build/datafiles">
			<fileset dir="datafiles/">
				<include name="**"/>
			</fileset>
		</copy>

		<copy todir="build/lib">
			<fileset dir="lib/">
				<include name="figio.jar"/>
			</fileset>
		</copy>

		<copy todir="build">
			<fileset dir=".">
				<include name="tsafe.properties"/>
			</fileset>
		</copy>

		<jar jarfile="TSafe2d.jar" includes="**/*.class" basedir=".">
			<manifest>
				<attribute name="Main-Class" value="tsafe.main.Main"/>
				<attribute name="Class-Path" value="lib/figio.jar"/>
			</manifest>

			<fileset dir="">
				<include name="tsafe/common_datastructures/_resources/**"/>
			</fileset>
		</jar>

		<move file="TSafe2d.jar" todir="build/"/>

	</target>

	<target name="doc" description="Generate documentation">
		<delete dir="doc"/>
		<mkdir dir="doc"/>
		<touch file="doc/.gitkeep"/>
		<javadoc sourcepath="tsafe" destdir="doc"/>
	</target>

	<target name="clean" description="Delete all generated files">
		<delete dir="build"/>
		<delete dir="doc"/>
		<mkdir dir="doc"/>
		<touch file="doc/.gitkeep"/>
	</target>
</project>
